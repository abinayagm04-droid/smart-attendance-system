{% extends 'school/base.html' %}
{% block content %}
<h3 class="my-3">Filter Attendance</h3>

<form method="get" class="row g-2 align-items-end">
  <div class="col-auto">
    <label class="form-label">Student (id)</label>
    <input type="text" name="student" class="form-control" placeholder="Student id or leave blank">
  </div>
  <div class="col-auto">
    <label class="form-label">Date</label>
    <input type="date" name="date" class="form-control">
  </div>
  <div class="col-auto">
    <button class="btn btn-primary">Filter</button>
  </div>
</form>

{% if results %}
  <h5 class="mt-3">Results</h5>
  <table class="table table-striped mt-2">
    <thead><tr><th>Date</th><th>Student</th><th>Status</th></tr></thead>
    <tbody>
      {% for r in results %}
        <tr>
          <td>{{ r.date }}</td>
          <td>{{ r.student.roll_number }} - {{ r.student.name }}</td>
          <td>{{ r.get_status_display }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endif %}
{% endblock %}